@model TestProject.ViewModels.StudentGradeOnSubjectModel
@{
    ViewBag.Title = "Оценки учеников класса";
}

<form method="get">
    <div class="form-inline form-group">
        <label class="custom-control-label">Выберите класс: </label>
        <select name="className" asp-items="Model.Classes" class="form-control"></select>
    </div>
    <div class="form-inline form-group">
        <label class="custom-control-label">Выберите предмет: </label>
        <select name="subjectName" asp-items="Model.Subjects" class="form-control"></select>
        <input type="submit" value="Фильтр" />
    </div>
</form>
<br />
<table class="table">
    <tr>
        <td>Номер ученика</td>
        <td>ФИО</td>
        @foreach (var subject in Model.SubjectGrades)
        {
            <td>Предмет</td>
        }
        @foreach (var date in Model.SubjectGrades)
        {
            <td>@date.Date.ToShortDateString()</td>
        }
    </tr>
    @foreach (Students students in Model.Students)
    {
        <tr>
            <td>@students.Id</td>
            <td>@students.FullName</td>
            @foreach (var subjectGrade in Model.SubjectGrades)
            {
                <td>@subjectGrade.SubjectName</td>
            }
            @foreach (var subjectGrade in Model.SubjectGrades)
            {
                <td>@subjectGrade.Grade</td>
            }
        </tr>
    }
</table>
